# STM32-Based Health Risk Prediction System (Hardware)

> This repository contains the hardware implementation for my 2025 Undergraduate Senior Design Project. The backend implementation can be found in the [HealthMonitor](https://github.com/KiRorY/HealthMonitor) repository.

## Hardware List

| Module | Model |
|------|------|
| MCU (Main Controller) | STM32F103C8T6 |
| Motion Sensor | Alientek MPU6050 |
| Health Sensor | MKS_142 |
| Bluetooth Module | HC-05 |

## Program Description

The display utilizes the built-in TFT color screen from the Yahboom development board. The firmware is built upon the HAL library generated by STM32CubeMX. Sample code for the motion sensor and health detector was ported onto this base to achieve basic physiological data monitoring. The core program logic is located within the UART receive functions associated with the MKS_142 sensor.

## Features

The functionality is straightforward: placing a finger on the health monitoring sensor allows the device to read data once it stabilizes. Heart rate and SpO2 (blood oxygen) are displayed on the screen. If the device is connected to the backend via Bluetooth and the backend application is running, the device transmits data for further processing.

**Key data transmitted includes:**
+ ECG Waveform Data
+ Heart Rate
+ SpO2 (Blood Oxygen)
+ Diastolic / Systolic Blood Pressure
+ Heart Rate Variability (HRV)
+ ...

The motion sensor is used to monitor current physical activity status. Using 3-axis angular velocity and 3-axis acceleration, the hardware firmware directly determines movement status and transmits a flag to the backend.

## Environment

Flashed using a cross-compiler toolchain and OpenOCD.

---

# 基于STM32的健康风险预测系统(硬件部分)
>本项目代码是2025年本科毕业设计的系统硬件部分。后端部分参考[HealthMoniter](https://github.com/KiRorY/HealthMonitor)这个库。

## 硬件列表

| 模块 | 型号 |
|------|------|
|主控板|STM32F103C8T6|
|运动传感器|正点原子MPU6050|
|健康监测传感器|MKS_142|
|蓝牙模块|HC-05|

## 程序说明
屏幕用的是亚博智能开发版自带的TFT彩屏。程序使用的HAL库基于STM32CubeMX生成，在此基础之上将运动传感器和健康检测器的相关样例代码移植过来，完成基本的生理数据监测。主要程序逻辑在MKS_142相关的串口接收函数中。

## 功能说明
功能非常简单，将手指放在健康监测传感器上，设备会在数据稳定后读出，心率和血氧会显示在屏幕上。如果后端通过蓝牙连接了设备并开启后端程序，那么设备会将数据传输给后端进行进一步处理。

传输数据中主要被使用的数据有：
+ 心电波动数据
+ 心率
+ 血氧
+ 舒张压/收缩压
+ 心率变异性
+ ...

运动传感器被用于监测当前是否在进行运动，通过三轴角速度+三轴加速度判定，硬件部分程序直接判断，回传flag给后端。

## 环境说明
使用交叉编译器+OpenOCD烧录。

